<widget-header
    [name]="widgetName"
    [editable]="isEditable">

  <op-widget-project-details-menu
    slot="menu"
    [resource]="resource">
  </op-widget-project-details-menu>
</widget-header>

<div class="grid--widget-content">
  <edit-form *ngIf="(project$ | async) as project"
             [resource]="project">
    <div class="attributes-map">
      <ng-container *ngFor="let cf of profileFields">
        <div class="attributes-map--key" [attr.title]="cf.label">
          {{ cf.label }}
        </div>
        <div class="attributes-map--value">
          <a
            *ngIf="cf.isLink; else spanBlock"
            [href]="cf.value"
            target="_blank"
            rel="noreferrer"
            style="cursor: pointer;"
          >
            <ng-container *ngTemplateOutlet="spanBlock"></ng-container>
          </a>
          <ng-template #spanBlock>
            <span class="inline-edit--display-field" style="line-height: normal;">
              {{ cf.value }}
            </span>
          </ng-template>
        </div>
      </ng-container>
      <ng-container *ngFor="let cf of customFields">
        <div class="attributes-map--key" [attr.title]="cf.label">
          {{ cf.label }}
          <attribute-help-text [attribute]="cf.key"
                               [attributeScope]="'Project'"></attribute-help-text>
        </div>
        <div class="attributes-map--value">
          <op-editable-attribute-field
            [resource]="project"
            [fieldName]="cf.key"
          ></op-editable-attribute-field>
        </div>
      </ng-container>
    </div>
  </edit-form>
</div>
